{"ast":null,"code":"var _jsxFileName = \"/Users/sajedhussein/Documents/btecc_code/Frontend/demo-project updated/src/Components/login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Button, Form, Input, Card } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport { decodeToken } from \"react-jwt\";\nimport Swal from \"sweetalert2\";\nconst onFinishFailed = errorInfo => {\n  console.log(\"Failed:\", errorInfo);\n};\nfunction Login() {\n  const navigate = useNavigate();\n  const onFinish = async values => {\n    try {\n      const login = await axios.post(\"https://localhost:7000/api/Users/Login\", {\n        username: values.username,\n        password: values.password\n      });\n      const myDecodedToken = decodeToken(login.data.token);\n      await localStorage.setItem(\"role\", myDecodedToken[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"]);\n      await localStorage.setItem(\"account\", JSON.stringify(login.data));\n      navigate(\"/\");\n      window.location.reload();\n    } catch (e) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Invalid Credentials\",\n        text: \"Please check your username or password\",\n        color: \"red\",\n        width: 400\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: \"30%\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    name: \"basic\",\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    autoComplete: \"off\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Username\",\n    name: \"username\",\n    rules: [{\n      required: true,\n      message: \"Please input your username!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: \"Please input your password!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    style: {\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Submit\")))));\n}\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    background: \"radial-gradient(circle, rgba(163,163,163,1) 100%, rgba(230,230,230,1) 100%, rgba(168,191,197,1) 100%, rgba(32,25,56,1) 100%, rgba(0,255,239,1) 100%)\"\n  },\n  title: {\n    textAlign: \"center\",\n    marginBottom: \"30px\"\n  }\n};\nexport default Login;","map":{"version":3,"names":["React","axios","Button","Form","Input","Card","useNavigate","decodeToken","Swal","onFinishFailed","errorInfo","console","log","Login","navigate","onFinish","values","login","post","username","password","myDecodedToken","data","token","localStorage","setItem","JSON","stringify","window","location","reload","e","fire","icon","title","text","color","width","createElement","style","styles","container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","justifyContent","alignItems","name","autoComplete","display","flexDirection","Item","label","rules","required","message","Password","alignSelf","type","htmlType","height","background","textAlign","marginBottom"],"sources":["/Users/sajedhussein/Documents/btecc_code/Frontend/demo-project updated/src/Components/login.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Form, Input, Card } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { decodeToken } from \"react-jwt\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst onFinishFailed = (errorInfo) => {\r\n  console.log(\"Failed:\", errorInfo);\r\n};\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      const login = await axios.post(\"https://localhost:7000/api/Users/Login\", {\r\n        username: values.username,\r\n        password: values.password,\r\n      });\r\n      const myDecodedToken = decodeToken(login.data.token);\r\n\r\n      await localStorage.setItem(\r\n        \"role\",\r\n        myDecodedToken[\r\n          \"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"\r\n        ]\r\n      );\r\n      await localStorage.setItem(\"account\", JSON.stringify(login.data));\r\n\r\n      navigate(\"/\");\r\n      window.location.reload();\r\n    } catch (e) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Invalid Credentials\",\r\n        text: \"Please check your username or password\",\r\n        color: \"red\",\r\n        width: 400,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <Card\r\n        style={{\r\n          width: \"30%\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <h1 style={styles.title}>Login</h1>\r\n\r\n        <Form\r\n          name=\"basic\"\r\n          onFinish={onFinish}\r\n          onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input your username!\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input your password!\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password />\r\n          </Form.Item>\r\n\r\n          <Form.Item style={{ alignSelf: \"center\" }}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"100vh\",\r\n    justifyContent: \"center\",\r\n    background:\r\n      \"radial-gradient(circle, rgba(163,163,163,1) 100%, rgba(230,230,230,1) 100%, rgba(168,191,197,1) 100%, rgba(32,25,56,1) 100%, rgba(0,255,239,1) 100%)\",\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    marginBottom: \"30px\",\r\n  },\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}