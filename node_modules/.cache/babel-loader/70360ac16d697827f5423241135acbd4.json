{"ast":null,"code":"var _jsxFileName = \"/Users/sajedhussein/Documents/btecc_code/Frontend/demo-project updated/src/Components/AdminTaskList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Space, Table, Tag } from 'antd';\nimport axios from 'axios';\nconst {\n  Column\n} = Table;\nconst AdminTaskList = () => {\n  const [requests, setRequests] = useState();\n  const getRequests = async () => {\n    const account = JSON.parse(localStorage.getItem('account'));\n    console.log('Token:', account.token);\n    console.log('Role:', account.role);\n    try {\n      const request = await axios.get(\"https://localhost:7000/api/Employees/GetEmployeesRequests\", {\n        headers: {\n          Authorization: `Bearer ${account.token}`\n        }\n      });\n      console.log('requests', request);\n      setRequests(request.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const updateStatus = async (requestId, newStatus) => {\n    console.log(requestId, newStatus);\n    const account = JSON.parse(localStorage.getItem('account'));\n    try {\n      await axios.put(`https://localhost:7000/api/Employees/UpdateRequestStatus/${requestId}`, `\"${newStatus}\"`, {\n        headers: {\n          Authorization: `Bearer ${account.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      getRequests();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    getRequests();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: requests,\n    bordered: true,\n    style: {\n      width: '90%',\n      margin: '0 auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    title: \"Title\",\n    dataIndex: \"title\",\n    key: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    title: \"Description\",\n    dataIndex: \"description\",\n    key: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    title: \"Status\",\n    dataIndex: \"status\",\n    key: \"status\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    title: \"Action\",\n    key: \"action\",\n    align: \"center\",\n    render: (_, record) => /*#__PURE__*/React.createElement(Space, {\n      size: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, record.status !== 'approved' ? /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => updateStatus(record.id, 'approved'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }\n    }, \"Approve\") : null, record.status !== 'declined' ? /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      danger: true,\n      onClick: () => updateStatus(record.id, 'declined'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, \"Decline\") : null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })));\n};\nexport default AdminTaskList;","map":{"version":3,"names":["React","useEffect","useState","Button","Space","Table","Tag","axios","Column","AdminTaskList","requests","setRequests","getRequests","account","JSON","parse","localStorage","getItem","console","log","token","role","request","get","headers","Authorization","data","e","updateStatus","requestId","newStatus","put","createElement","style","paddingTop","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","dataSource","bordered","width","margin","title","dataIndex","key","align","render","_","record","size","status","type","onClick","id","danger"],"sources":["/Users/sajedhussein/Documents/btecc_code/Frontend/demo-project updated/src/Components/AdminTaskList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Space, Table, Tag } from 'antd';\r\nimport axios from 'axios';\r\nconst { Column } = Table;\r\n\r\n\r\nconst AdminTaskList = () => {\r\n    const [requests, setRequests] = useState();\r\n\r\n    const getRequests = async () => {\r\n        const account = JSON.parse(localStorage.getItem('account'));\r\n        console.log('Token:', account.token);\r\n        console.log('Role:', account.role);\r\n        try {\r\n            const request = await axios.get(\"https://localhost:7000/api/Employees/GetEmployeesRequests\", {\r\n                headers: { Authorization: `Bearer ${account.token}` },\r\n            });\r\n\r\n            console.log('requests', request);\r\n            setRequests(request.data)\r\n\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n\r\n        }\r\n    }\r\n\r\n    const updateStatus = async (requestId, newStatus) => {\r\n        console.log(requestId, newStatus);\r\n\r\n        const account = JSON.parse(localStorage.getItem('account'));\r\n        try {\r\n            await axios.put(`https://localhost:7000/api/Employees/UpdateRequestStatus/${requestId}`, `\"${newStatus}\"`, {\r\n                headers: { Authorization: `Bearer ${account.token}`, 'Content-Type': 'application/json' },\r\n            });\r\n\r\n\r\n            getRequests();\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        getRequests()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div style={{ paddingTop: 20 }}>\r\n            <Table dataSource={requests} bordered style={{ width: '90%', margin: '0 auto' }}>\r\n                <Column title=\"Title\" dataIndex=\"title\" key=\"title\" />\r\n                <Column title=\"Description\" dataIndex=\"description\" key=\"description\" />\r\n                <Column title=\"Status\" dataIndex=\"status\" key=\"status\" align='center' />\r\n                <Column\r\n                    title=\"Action\"\r\n                    key=\"action\"\r\n                    align='center'\r\n                    render={(_, record) => (\r\n                        <Space size=\"middle\">\r\n                            {record.status !== 'approved' ? (\r\n                                <Button type=\"primary\" onClick={() => updateStatus(record.id, 'approved')}>\r\n                                    Approve\r\n                                </Button>\r\n                            ) : null}\r\n                            {record.status !== 'declined' ? (\r\n                                <Button type=\"primary\" danger onClick={() => updateStatus(record.id, 'declined')}>\r\n                                    Decline\r\n                                </Button>\r\n                            ) : null}\r\n                        </Space>\r\n                    )}\r\n                />\r\n            </Table>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default AdminTaskList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}